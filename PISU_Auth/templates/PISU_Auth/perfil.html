{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">Mi Perfil</h1>
    <form method="post" enctype="multipart/form-data" class="card shadow p-4">
        {% csrf_token %}

        <!-- Nombre de usuario -->
        <div class="mb-3">
            <label for="username" class="form-label">Nombre de usuario</label>
            <input type="text" id="username" class="form-control" value="{{ user.username }}" disabled>
        </div>

        <!-- Correo electrónico -->
        <div class="mb-3">
            <label for="email" class="form-label">Correo electrónico</label>
            <input type="email" id="email" class="form-control" value="{{ user.email }}" disabled>
        </div>

        <!-- Centro Universitario -->
        <div class="mb-3">
            <label for="centro_universitario" class="form-label">Centro Universitario</label>
            <select id="centro_universitario" name="centro_universitario" class="form-select">
                <option value="">Selecciona un centro universitario</option>
                {% for centro in centros %}
                    <option value="{{ centro.id }}" {% if user.centro_universitario and user.centro_universitario.id == centro.id %}selected{% endif %}>
                        {{ centro.nombre }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Carrera -->
        <div class="mb-3">
            <label for="carrera" class="form-label">Carrera</label>
            <select id="carrera" name="carrera" class="form-select">
                <option value="">Selecciona una carrera</option>
                {% if carreras %}
                    {% for carrera in carreras %}
                        <option value="{{ carrera.id }}" {% if user.carrera and user.carrera.id == carrera.id %}selected{% endif %}>
                            {{ carrera.nombre }}
                        </option>
                    {% endfor %}
                {% endif %}
            </select>
        </div>

        <!-- Foto de perfil -->
        <div class="mb-3">
            <label for="foto_perfil" class="form-label">Foto de Perfil</label>
            <input type="file" id="foto_perfil" name="foto_perfil" class="form-control">
        </div>

        <!-- Guardar -->
        <button type="submit" class="btn btn-primary w-100">Guardar Cambios</button>
    </form>
</div>
{% endblock %}
